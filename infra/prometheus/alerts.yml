groups:
  - name: heavy_alerts
    rules:
      - alert: HighErrorRate
        # The condition: Error Rate > 5% (0.05)
        expr: |
          (
            sum(rate(http_requests_total{endpoint_error="true"}[1m])) 
            / 
            sum(rate(http_requests_total[1m]))
          ) > 0.05
        for: 1m
        labels:
          severity: critical
        annotations:
          summary: "High failure rate detected"
          description: "More than 5% of requests are failing."